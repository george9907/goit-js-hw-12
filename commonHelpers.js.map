{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import { inputSearch, showLoader } from '../main';\n\n\nexport function pixabayPhoto() {\n    const formValue = inputSearch.value.trim().split(',').join('+');\n    const searchParams = new URLSearchParams({\n        key: \"43219571-0a26e2304ee50d7f75a2b614a\",\n        q: [formValue],\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    });\n    showLoader();\n    return fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        }\n        );\n}","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { photosGallery, lightbox } from '../main';\n\n\nexport function renderPhotos(arr) { \n    if (arr.length == 0) {\n        iziToast.error({\n            theme: 'dark',\n            backgroundColor: '#EF4040',\n            progressBarColor: '#B51B1B',\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            messageColor: '#FAFAFB',\n            position: 'topRight',\n        });\n    } else {\n        const markup = arr.map((photo) => {\n            return `<li class=\"photos-list-item\">\n            <a class=\"photos-list-link\" href=\"${photo.largeImageURL}\">\n            <img class=\"photo\" src=\"${photo.webformatURL}\" alt=\"${photo.tags}\"/>\n            </a>\n            <ul class=\"photo-information-container\">\n            <li class=\"item-photo-information-container\"><p><span class=\"accent\">Likes</span></br>${photo.likes}</p></li>\n            <li class=\"item-photo-information-container\"><p><span class=\"accent\">Views</span></br>${photo.views}</p></li>\n            <li class=\"item-photo-information-container\"><p><span class=\"accent\">Comments</span></br>${photo.comments}</p></li>\n            <li class=\"item-photo-information-container\"><p><span class=\"accent\">Downloads</span></br>${photo.downloads}</p></li>\n            </ul>\n            </li>`;\n        })\n            .join(\"\");\n        photosGallery.insertAdjacentHTML(\"beforeend\", markup);\n        lightbox.refresh();\n    }\n}\n","import { pixabayPhoto } from './js/pixabay-api';\nimport { renderPhotos } from './js/render-functions';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form = document.querySelector('.search-form');\nexport const inputSearch = form.elements.search;\nexport const photosGallery = document.querySelector('.gallery');\nexport const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250\n});\n\nconst preloader = document.querySelector('.loader');\npreloader.style.display = 'none';\n\nexport const showLoader = () => {\n    preloader.style.display = 'flex';\n};\nconst hideLoader = () => {\n    preloader.style.display = 'none';\n};\n\n\nform.addEventListener('submit', sendForm);\n\nfunction sendForm(evt) {\n    evt.preventDefault();\n    photosGallery.innerHTML = \"\";\n    \n    const input = evt.target.elements.search.value.trim();\n    if (input !== '') {\n        window.onload = () => {\n            pixabayPhoto()\n                .then((photos) => {\n                    renderPhotos(photos.hits);\n                    hideLoader();\n                })\n                .catch((error) => {\n                    console.log(error);\n                    hideLoader();\n                    iziToast.error({\n                        theme: 'dark',\n                        backgroundColor: '#EF4040',\n                        progressBarColor: '#B51B1B',\n                        message: 'Sorry, an error occurred while loading. Please try again!',\n                        messageColor: '#FAFAFB',\n                        position: 'topRight',\n                    });\n                });\n        }\n        window.onload();\n            form.reset();\n        } else {\n            iziToast.show({\n                theme: 'dark',\n                backgroundColor: '#EF4040',\n                progressBarColor: '#B51B1B',\n                message: 'Please complete the field!',\n                messageColor: '#FAFAFB',\n                position: 'topRight',\n            });\n        }\n    }\n"],"names":["pixabayPhoto","formValue","inputSearch","searchParams","showLoader","response","renderPhotos","arr","iziToast","markup","photo","photosGallery","lightbox","form","SimpleLightbox","preloader","hideLoader","sendForm","evt","photos","error"],"mappings":"6vBAGO,SAASA,GAAe,CAC3B,MAAMC,EAAYC,EAAY,MAAM,KAAI,EAAG,MAAM,GAAG,EAAE,KAAK,GAAG,EACxDC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAG,CAACF,CAAS,EACb,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACD,OAAAG,IACO,MAAM,4BAA4BD,CAAY,EAAE,EAClD,KAAME,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACnB,CACT,CACA,CCfO,SAASC,EAAaC,EAAK,CAC9B,GAAIA,EAAI,QAAU,EACdC,EAAS,MAAM,CACX,MAAO,OACP,gBAAiB,UACjB,iBAAkB,UAClB,QAAS,2EACT,aAAc,UACd,SAAU,UACtB,CAAS,MACE,CACH,MAAMC,EAASF,EAAI,IAAKG,GACb;AAAA,gDAC6BA,EAAM,aAAa;AAAA,sCAC7BA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,oGAGwBA,EAAM,KAAK;AAAA,oGACXA,EAAM,KAAK;AAAA,uGACRA,EAAM,QAAQ;AAAA,wGACbA,EAAM,SAAS;AAAA;AAAA,kBAG9G,EACI,KAAK,EAAE,EACZC,EAAc,mBAAmB,YAAaF,CAAM,EACpDG,EAAS,QAAO,CACnB,CACL,CC1BA,MAAMC,EAAO,SAAS,cAAc,cAAc,EACrCX,EAAcW,EAAK,SAAS,OAC5BF,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAW,IAAIE,EAAe,aAAc,CACrD,aAAc,MACd,aAAc,GAClB,CAAC,EAEKC,EAAY,SAAS,cAAc,SAAS,EAClDA,EAAU,MAAM,QAAU,OAEnB,MAAMX,EAAa,IAAM,CAC5BW,EAAU,MAAM,QAAU,MAC9B,EACMC,EAAa,IAAM,CACrBD,EAAU,MAAM,QAAU,MAC9B,EAGAF,EAAK,iBAAiB,SAAUI,CAAQ,EAExC,SAASA,EAASC,EAAK,CACnBA,EAAI,eAAc,EAClBP,EAAc,UAAY,GAEZO,EAAI,OAAO,SAAS,OAAO,MAAM,SACjC,IACV,OAAO,OAAS,IAAM,CAClBlB,EAAc,EACT,KAAMmB,GAAW,CACdb,EAAaa,EAAO,IAAI,EACxBH,GACpB,CAAiB,EACA,MAAOI,GAAU,CACd,QAAQ,IAAIA,CAAK,EACjBJ,IACAR,EAAS,MAAM,CACX,MAAO,OACP,gBAAiB,UACjB,iBAAkB,UAClB,QAAS,4DACT,aAAc,UACd,SAAU,UAClC,CAAqB,CACrB,CAAiB,CACR,EACD,OAAO,OAAM,EACTK,EAAK,MAAK,GAEVL,EAAS,KAAK,CACV,MAAO,OACP,gBAAiB,UACjB,iBAAkB,UAClB,QAAS,6BACT,aAAc,UACd,SAAU,UAC1B,CAAa,CAEb"}